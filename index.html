<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voltarix Solar - Simulador e Proposta Premium</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: url('https://images.unsplash.com/photo-1509391366360-2e959784a276?q=80&w=1920') no-repeat center center fixed;
            background-size: cover;
            scroll-behavior: smooth; 
        }
        .overlay-dark { background: rgba(11, 15, 26, 0.92); backdrop-filter: blur(10px); }
        .glass { background: rgba(30, 41, 59, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .gold-gradient { background: linear-gradient(135deg, #fcd34d 0%, #fbbf24 100%); }
        .text-gold { color: #fbbf24; }
        .card-result { transition: all 0.4s ease; border-top: 4px solid transparent; }
        .card-result:hover { transform: translateY(-5px); border-top-color: #fbbf24; background: rgba(30, 41, 59, 0.8); }
    </style>
</head>
<body class="text-slate-200 min-h-screen">

    <div class="overlay-dark min-h-screen pb-20">
        <nav class="p-8 max-w-6xl mx-auto flex flex-col items-center gap-4">
            <div class="w-16 h-16 gold-gradient rounded-2xl flex items-center justify-center shadow-2xl shadow-yellow-500/30">
                <span class="text-slate-900 font-black text-3xl">V</span>
            </div>
            <div class="text-center">
                <span class="text-3xl font-black tracking-tighter uppercase block">Voltarix<span class="text-gold">Solar</span></span>
                <span class="text-xs text-slate-500 font-bold tracking-[0.3em] uppercase">Engenharia Fotovoltaica</span>
            </div>
        </nav>

        <main class="max-w-6xl mx-auto px-4 grid lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-5 space-y-6">
                <section class="glass rounded-[2.5rem] p-8">
                    <h2 class="text-xl font-black mb-8 flex items-center gap-3">
                        <span class="text-gold underline decoration-2 underline-offset-8">01. Configura√ß√£o</span>
                    </h2>
                    
                    <div class="space-y-8">
                        <div>
                            <label class="text-xs font-bold text-slate-400 uppercase mb-3 block tracking-widest">Consumo Atual (kWh/m√™s)</label>
                            <input type="number" id="inputConsumo" value="800" class="w-full bg-slate-900/50 border border-slate-700 rounded-2xl px-6 py-5 focus:outline-none focus:border-yellow-500 transition-all text-3xl font-black text-yellow-400">
                        </div>

                        <div>
                            <label class="text-xs font-bold text-slate-400 uppercase mb-3 block tracking-widest">Padr√£o de Entrada</label>
                            <div class="grid grid-cols-3 gap-3">
                                <button onclick="selectPhase(30, this)" class="phase-btn py-4 rounded-xl border border-slate-700 hover:border-yellow-500 transition-all text-[10px] font-black uppercase tracking-tighter">Monof√°sico</button>
                                <button onclick="selectPhase(50, this)" class="phase-btn py-4 rounded-xl border border-slate-700 hover:border-yellow-500 transition-all text-[10px] font-black uppercase tracking-tighter">Bif√°sico</button>
                                <button onclick="selectPhase(100, this)" class="phase-btn py-4 rounded-xl border border-yellow-500 bg-yellow-500/10 text-gold font-black transition-all text-[10px] uppercase active-phase">Trif√°sico</button>
                            </div>
                        </div>
                    </div>

                    <button onclick="gerarEstudo()" class="w-full mt-10 gold-gradient text-slate-900 font-black py-6 rounded-2xl shadow-2xl hover:scale-[1.02] active:scale-95 transition-all text-lg uppercase tracking-widest">
                        Gerar Estudo de Sobra 15%
                    </button>
                </section>

                <div class="grid grid-cols-2 gap-4">
                    <div class="glass p-4 rounded-2xl text-center">
                        <span class="text-2xl mb-1 block">üõ°Ô∏è</span>
                        <p class="text-[10px] font-bold uppercase text-slate-400">25 Anos de Vida √ötil</p>
                    </div>
                    <div class="glass p-4 rounded-2xl text-center">
                        <span class="text-2xl mb-1 block">‚öôÔ∏è</span>
                        <p class="text-[10px] font-bold uppercase text-slate-400">Suporte Local Assis</p>
                    </div>
                </div>
            </div>

            <div id="dashboard" class="lg:col-span-7 space-y-6 opacity-0 translate-y-10 transition-all duration-700 pointer-events-none">
                
                <div class="bg-yellow-500/10 border border-yellow-500/20 p-6 rounded-3xl text-center">
                    <p class="text-yellow-500 font-bold text-sm uppercase tracking-widest">üí° Intelig√™ncia Voltarix Solar</p>
                    <p class="text-slate-300 text-xs mt-1">Seu sistema foi projetado com <span class="text-white font-bold">15% de margem estrat√©gica</span> para expans√µes e novos equipamentos.</p>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="glass p-6 rounded-[2rem] card-result">
                        <p class="text-[10px] text-slate-500 uppercase font-black mb-2">Pot√™ncia Total</p>
                        <h3 class="text-3xl font-black text-gold" id="resKwp">0.00<small class="text-xs ml-1">kWp</small></h3>
                    </div>
                    <div class="glass p-6 rounded-[2rem] card-result">
                        <p class="text-[10px] text-slate-500 uppercase font-black mb-2">Qtd. Pain√©is</p>
                        <h3 class="text-3xl font-black text-white" id="resPlacas">0</h3>
                    </div>
                    <div class="glass p-6 rounded-[2rem] card-result col-span-2 md:col-span-1 border-l-4 border-l-green-500">
                        <p class="text-[10px] text-green-500 uppercase font-black mb-2">Cr√©dito Estimado</p>
                        <h3 class="text-3xl font-black text-green-400" id="resRS">R$ 0</h3>
                    </div>
                </div>

                <div class="glass p-8 rounded-[2.5rem]">
                    <h3 class="text-lg font-black mb-6 flex justify-between items-center">
                        Proje√ß√£o de Lucro Acumulado
                        <span class="text-[10px] bg-slate-800 px-3 py-1 rounded-full text-slate-400 uppercase">Tecnologia String</span>
                    </h3>
                    <canvas id="paybackChart" height="160"></canvas>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="glass p-6 rounded-3xl flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center text-2xl font-bold text-blue-400">M¬≤</div>
                        <div>
                            <p class="text-[10px] text-slate-500 uppercase font-black tracking-widest">√Årea Necess√°ria</p>
                            <p class="text-lg font-black text-white" id="resArea">0 m¬≤</p>
                        </div>
                    </div>
                    <div class="glass p-6 rounded-3xl flex items-center gap-4 border-2 border-yellow-500/30">
                        <div class="w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center text-2xl font-bold text-yellow-500">üìà</div>
                        <div>
                            <p class="text-[10px] text-slate-500 uppercase font-black tracking-widest">Economia 25 anos</p>
                            <p class="text-lg font-black text-white" id="res25Anos">R$ 0</p>
                        </div>
                    </div>
                </div>

                <button onclick="enviarWhats()" class="w-full py-8 bg-[#25D366] hover:bg-[#20ba5a] text-white font-black text-2xl rounded-[2rem] shadow-2xl transition-all flex items-center justify-center gap-4 group">
                    <span class="group-hover:scale-125 transition-transform italic underline underline-offset-8">AGENDAR VISITA T√âCNICA</span>
                </button>
            </div>
        </main>
    </div>

    <script>
        let minRate = 100;
        let chart;

        function selectPhase(val, btn) {
            minRate = val;
            document.querySelectorAll('.phase-btn').forEach(b => {
                b.className = "phase-btn py-4 rounded-xl border border-slate-700 hover:border-yellow-500 transition-all text-[10px] font-black uppercase tracking-tighter";
            });
            btn.className = "phase-btn py-4 rounded-xl border border-yellow-500 bg-yellow-500/10 text-gold font-black transition-all text-[10px] uppercase active-phase";
        }

        function gerarEstudo() {
            const consumo = parseFloat(document.getElementById('inputConsumo').value);
            const hsp = 5.13; // Assis-SP
            const pr = 0.78; // Conservador para garantir a sobra prometida
            const tarifa = 0.95;

            // L√ìGICA DE SOBRA: Consumo + 15% de margem
            const consumoComSobra = consumo * 1.15;
            
            // Dimensionamento
            const kwpNecessario = consumoComSobra / (hsp * 30 * pr);
            const numPlacas = Math.ceil((kwpNecessario * 1000) / 565);
            const kwpFinal = (numPlacas * 565) / 1000;
            
            // Economia Mensal considerando que o cliente gasta 800 e gera 920 (sobra creditada)
            const economiaMes = consumoComSobra * tarifa; 
            const area = numPlacas * 2.6;

            // UI Update
            const dash = document.getElementById('dashboard');
            dash.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
            
            document.getElementById('resKwp').innerText = kwpFinal.toFixed(2);
            document.getElementById('resPlacas').innerText = numPlacas;
            document.getElementById('resRS').innerText = `R$ ${economiaMes.toFixed(0)}`;
            document.getElementById('resArea').innerText = `${area.toFixed(1)} m¬≤`;
            
            const eco25 = (economiaMes * 12) * 25 * 1.5; 
            document.getElementById('res25Anos').innerText = `R$ ${eco25.toLocaleString('pt-BR', {maximumFractionDigits: 0})}`;

            updateChart(economiaMes * 12);
            dash.scrollIntoView({ behavior: 'smooth' });
        }

        function updateChart(ecoAnual) {
            const ctx = document.getElementById('paybackChart').getContext('2d');
            if(chart) chart.destroy();
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Hoje', 'Ano 2', 'Ano 5', 'Ano 10', 'Ano 15', 'Ano 25'],
                    datasets: [{
                        data: [0, ecoAnual*1.8, ecoAnual*5, ecoAnual*12, ecoAnual*22, ecoAnual*45],
                        borderColor: '#fbbf24',
                        borderWidth: 6,
                        pointBackgroundColor: '#fbbf24',
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(251, 191, 36, 0.05)'
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { display: false },
                        x: { ticks: { color: '#64748b', font: { weight: '900', size: 10 } }, grid: { display: false } }
                    }
                }
            });
        }

        function enviarWhats() {
            const consumo = document.getElementById('inputConsumo').value;
            const kwp = document.getElementById('resKwp').innerText;
            const placas = document.getElementById('resPlacas').innerText;
            const area = document.getElementById('resArea').innerText;
            
            const msg = `Ol√° Voltarix Solar! Vi minha proposta com 15% de sobra:
üîã Consumo Alvo: ${Math.round(consumo * 1.15)} kWh (Incluindo margem)
‚ö° Pot√™ncia: ${kwp} kWp (${placas} pain√©is)
üìè √Årea: ${area}
Tecnologia: Inversor de String

Quero transformar essa simula√ß√£o em um projeto real!`;

            window.open(`https://api.whatsapp.com/send?phone=5518991019472&text=${encodeURIComponent(msg)}`);
        }
    </script>
</body>
</html>
